# IDLECAT(1) - Monitor and React to Data Stream Activity Patterns

## NAME

**idlecat** - copy standard input to standard output while monitoring data flow patterns

## SYNOPSIS

```
idlecat [OPTION]...
```

## DESCRIPTION

**idlecat** is a utility that copies data from standard input to standard output while monitoring the "idleness" of the data stream. It can detect when a data stream becomes active after being inactive for a period, when it becomes inactive after being active, or when it reaches an end-of-file condition.

This utility is especially useful when included in pipelines to detect and react to unusual events, such as:

- A compiler that hangs or resumes after being stuck
- Log files that suddenly stop growing or resume after inactivity
- Any stream-based process that exhibits relevant patterns of activity and inactivity

When **idlecat** detects state transitions, it can execute user-defined shell commands to provide notifications or take other actions.

## OPTIONS

**-t SECONDS**
: Set the idle timeout - the number of seconds without data after which the stream is considered "idle" (default: 5 seconds)

**-i SECONDS**
: Set the idle-to-active threshold - the minimum duration of continuous idleness required before the idle-to-active transition command is executed (default: 120 seconds / 2 minutes)

**-a SECONDS**
: Set the active-to-idle threshold - the minimum duration of continuous activity required before the active-to-idle transition command is executed (default: 180 seconds / 3 minutes)

**-I COMMAND**
: Specify the shell command to execute when transitioning from idle to active state after meeting the idle-to-active threshold

**-A COMMAND**
: Specify the shell command to execute when transitioning from active to idle state after meeting the active-to-idle threshold

**-E COMMAND**
: Specify the shell command to execute when the end-of-file is reached on standard input

**-h**
: Display a help message and exit

## STATES AND TRANSITIONS

**idlecat** operates with two primary states:

1. **Idle State**: No data has been received for at least the idle timeout period (default: 5 seconds)
2. **Active State**: Data has been received within the idle timeout period

The utility starts in the idle state and monitors for the following transitions:

- **Idle to Active**: Occurs when data is received after being in the idle state for at least the idle-to-active threshold (default: 2 minutes)
- **Active to Idle**: Occurs when no data is received for the idle timeout period after being in the active state for at least the active-to-idle threshold (default: 3 minutes)
- **EOF**: Occurs when the end-of-file is reached on standard input

## EXAMPLES

Monitor a log file for inactivity and play a sound when it stops or starts:

```bash
tail -f /var/log/syslog | idlecat -I "printf '\007'; echo 'Log active again!'" -A "printf '\007'; echo 'Log stopped!'"
```

Watch compiler output and be notified when it hangs or resumes:

```bash
make -j8 | idlecat -t 10 -i 60 -a 60 -I "notify-send 'Compiler resumed'" -A "notify-send 'Compiler may be stuck'"
```

Monitor a network service and take action when it stops responding:

```bash
ping example.com | idlecat -A "systemctl restart my-service" -E "echo 'Connection lost' | mail -s 'Service Down' admin@example.com"
```

Customize all timing parameters:

```bash
somecommand | idlecat -t 3 -i 30 -a 45 -I "echo 'Active again'" -A "echo 'Now idle'" -E "echo 'Done'"
```

## EXIT STATUS

**idlecat** exits with status 0 if it successfully copies all data and reaches EOF normally. It exits with a non-zero status if an error occurs.

## SEE ALSO

**tee**(1), **cat**(1), **tail**(1)

## AUTHOR

Generated by Claude-3.7-Sonnet using the prompts at https://claude.ai/share/c112ef39-1dc4-4ae8-8152-34e80f16469c by Anton Kovalenko, 2025-05-14

I don't believe in licenses, but here is mine: Do what you want with this software, but don't blame me.

This utility was created to fill a niche between standard Unix utilities like tee, cat, and watch for monitoring data stream patterns.

## BUGS

Please report bugs at https://github.com/akovalenko/aigen-idlecat
